<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="generator" content="Hugo 0.68.3" />
  <link rel="canonical" href="https://adpblg.co.uk/post/internet-explorer/">

  

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://adpblg.co.uk/css/prism.css" media="none" onload="this.media='all';">

  
  
  <link rel="stylesheet" type="text/css" href="https://adpblg.co.uk/css/styles.css">

  <link rel="stylesheet" href="https://adpblg.co.uk/css/tweaks.css">

  <style id="inverter" media="none">
    .intro-and-nav, .main-and-footer { filter: invert(100%) }
    * { background-color: inherit }
    img:not([src*=".svg"]), .colors, iframe, .demo-container { filter: invert(100%) }
  </style>

  
  
  <title>internet explorer | adp</title>
</head>

  <body>
    <a href="#main">skip to content</a>
    <svg style="display: none">
  <symbol id="bookmark" viewBox="0 0 40 50">
   <g transform="translate(2266 3206.2)">
    <path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/>
   </g>
  </symbol>

  <symbol id="w3c" viewBox="0 0 127.09899 67.763">
   <text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text>
   <text font-size="83" style="font-size:83px;font-weight:bold;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731l-19.968 67.386h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882 0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329 0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401 0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912h-3.327v-3.991l11.646-20.133h-14.062l-3.911 6.655h-2.493v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21 0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/>
  </symbol>

  <symbol id="tag" viewBox="0 0 177.16535 177.16535">
    <g transform="translate(0 -875.2)">
     <path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813 0 0 1 1.8443 2.247 10.813 10.813 0 0 1 -3.5174 14.872l-.0445.0275a10.813 10.813 0 0 1 -14.86 -3.5714 10.813 10.813 0 0 1 3.5563 -14.863 10.813 10.813 0 0 1 13.022 1.2884z"/>
    </g>
  </symbol>

  <symbol id="balloon" viewBox="0 0 141.73228 177.16535">
   <g transform="translate(0 -875.2)">
    <g>
     <path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/>
     <path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598 0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/>
     <path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691 0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/>
     <path style="fill:currentColor" d="m32.52 892.22c-.20090-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/>
     <path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/>
     <rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/>
    </g>
   </g>
  </symbol>

  <symbol id="info" viewBox="0 0 41.667 41.667">
   <g transform="translate(-37.035 -1004.6)">
    <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968 0 0 1 -23.037 13.709 18.968 18.968 0 0 1 -13.738 -23.019 18.968 18.968 0 0 1 23.001 -13.768 18.968 18.968 0 0 1 13.798 22.984"/>
    <g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)">
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/>
     <path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719 0 0 1 -2.8807 1.7142 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
   </g>
  </symbol>

  <symbol id="warning" viewBox="0 0 48.430474 41.646302">
    <g transform="translate(-1.1273 -1010.2)">
     <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/>
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/>
     <path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719 0 0 1 -2.8807 1.7143 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
  </symbol>

  <symbol id="menu" viewBox="0 0 50 50">
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/>
   </symbol>

   <symbol id="link" viewBox="0 0 50 50">
    <g transform="translate(0 -1002.4)">
     <g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)">
      <g>
       <path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65 0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886 0l128.64-128.64c11.816-11.831 11.816-31.066 0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887 0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64 0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zm-254.28 168.51-45.903 45.9c-11.845 11.846-31.064 11.817-42.881 0l-42.884-42.881c-11.845-11.821-11.845-31.041 0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884 0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65 0l-128.65 128.64c-35.538 35.545-35.538 93.146 0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65 0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/>
      </g>
     </g>
    </g>
  </symbol>

  <symbol id="doc" viewBox="0 0 35 45">
   <g transform="translate(-147.53 -539.83)">
    <path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354v-39.194z"/>
    <g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)">
     <path d="m220 252.36h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h200"/>
     <path d="m220 488.74h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path d="m220 331.15h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
    </g>
   </g>
 </symbol>

 <symbol id="tick" viewBox="0 0 177.16535 177.16535">
  <g transform="translate(0 -875.2)">
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/>
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/>
  </g>
 </symbol>
</svg>

    <div class="wrapper">
      <header class="intro-and-nav" role="banner">
  <div>
    <div class="intro">
      <a
        class="logo"
        href="https://adpblg.co.uk"
        aria-label="adp home page"
      >
        <img src="https://adpblg.co.uk/images/logo.svg" alt="">
      </a>
      <p class="library-desc">
        
      </p>
    </div>
    <nav id="patterns-nav" class="patterns" role="navigation">
  <h2 class="vh">Main navigation</h2>
  <button id="menu-button" aria-expanded="false">
    <svg viewBox="0 0 50 50" aria-hidden="true" focusable="false">
      <use xlink:href="#menu"></use>
    </svg>
    Menu
  </button>
  
  <ul id="patterns-list">
  
    <li class="pattern">
      
      
      
      
      <a href="/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Home</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/post/" aria-current="page">
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Blog</span>
      </a>
    </li>
  
    <li class="pattern">
      
      
      
      
      <a href="/tags/" >
        <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
          <use xlink:href="#bookmark"></use>
        </svg>
        <span class="text">Tags</span>
      </a>
    </li>
  
  </ul>
</nav>
  </div>
</header>

      <div class="main-and-footer">
        <div>
          
  <main id="main">
    <h1>
      <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
        <use xlink:href="#bookmark"></use>
      </svg>
      internet explorer
    </h1>

    <div class="date">
      
      
      <strong>Publish date: </strong>Jun 14, 2020
      
        
      
    </div>

    
      <div class="tags">
        <strong>Tags: </strong>
        <ul aria-label="tags">
          
            <li>
              <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                <use xlink:href="#tag"></use>
              </svg>
              
              <a href="https://adpblg.co.uk/tags/networks/">networks</a>
            </li>
          
            <li>
              <svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false">
                <use xlink:href="#tag"></use>
              </svg>
              
              <a href="https://adpblg.co.uk/tags/exploration/">exploration</a>
            </li>
          
        </ul>
      </div>
    
    
    

    <p>This blog post is an exploration into the wiring of the internet. When we move information across the internet, what does its path look like?</p>
<hr>
<h2 id="to-boldly-go-where-many-have-gone-before">to boldly go where many have gone before</h2>
<h3 id="addressing-the-internet">addressing the internet</h3>
<p>When I was fifteen I had (or I thought I had) this real funny desktop background,</p>
<p><img src="/pictures/google_bit.jpg" alt="Alt"></p>
<p>Now, years later, I have a better background and a computer science degree. But it turns out that the internet is not so different from the postal system. The two ideas, at a high level, are analogous. Consider how the postal service works. If you want to send a letter to someone else, you first wrap it an envelope. On that envelope you write the all the details the postman will need to deliver it: usually just the address of the recipient. You pop it in the post box, where it is subsequently taken to a mail centre. If the address is near by to the mail centre, that mail centre will deliver it. If not, it is moved to another mail centre from where it can be delivered. The internet works like this too. Just as the postal system is a collection of postboxes and mail centres all intertwined, the internet is a collection of computers and routers connected to each other. When data is sent from some computer, <code>A</code>, to another computer, <code>B</code>, it travels across this web of connected devices.</p>
<p><img src="/pictures/internet_explorer_1.png" alt="Alt" title="Blue sky thinking"></p>
<p>A machine&rsquo;s <strong>IP</strong> (<strong>I</strong>nternet <strong>P</strong>rotocol) address dictates where it can be found within this logical mesh. It&rsquo;s most analogous to a postcode. Each address is sequence of numbers that identify exactly where on the internet a particular machine lies. All IP addresses follow a strict format. They are a series of four numbers, separated by dots. Each number is between 0 and 255.</p>
<pre><code>IP Format:
[0-255].[0-255].[0-255].[0-255]

Sample IP:
192.168.1.254
</code></pre>
<p>When we want to send a message between two points on the internet, the message is first divided up into <strong>packets</strong>. These packets are then labelled with the destination IP address, the senders IP address, and other useful information. The labelled packets are then sent to the nearest routing station, called a router. This router examines the label on the packet, and forwards it on to either another router or, if the destination address is nearby, the destination itself.</p>
<h3 id="building-a-cyber-space-ship">building a cyber space ship</h3>
<p>To explore these vast reaches of cyberspace, we&rsquo;re going to need an appropriate vessel. The packets I introduced earlier look like this.</p>
<p><img src="/pictures/ip_packet.png" alt="Alt"></p>
<p>The data part is for the content of the message. The header contains those labels mentioned earlier, such as the destination address. Much like the address on the envelope of a letter, it is the headers that routers examine to move traffic through the internet. We&rsquo;ll dig into the headers further, and examine their structure. IP headers follow a strict format &ndash; computers do not handle ambiguity well &ndash; that looks like this,</p>
<pre><code> 0                   1                   2                   3  
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|  IHL  |Type of Service|          Total Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|     Fragment Offset     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Time to Live |    Protocol   |        Header Checksum        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Source Address                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Destination Address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Options                    |    Padding    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre>
<p>The numbers on the top describe the size, in bits, of each header. The first four bits of an IP header are always the <code>Version</code>. The next four bits is always the <code>IHL</code>, which stands for <strong>I</strong>nternet <strong>H</strong>eader <strong>L</strong>ength. It describes how big the header is going to be. Just as you can have envelopes of different sizes, IP headers can be differently sized depending on which <code>Options</code> are present. The next eight bits is for the <code>Type of Service</code>, and so on and so forth.</p>
<p>The headers contain all the information the router needs to shift the packet along. The <code>Destination Address</code> describes where its going, and the <code>Source Address</code> describes where it came from. There are some other headers, like <code>Header Checksum</code> and <code>Fragment Offset</code> that we&rsquo;ll put aside for now. Our focus will be on <code>Source Address</code>, <code>Destination Address</code>, and <code>Time to Live</code>.</p>
<p>We&rsquo;re most interested in the <strong>TTL</strong> (<strong>T</strong>ime <strong>T</strong>o <strong>L</strong>ive) field. Packets move across the internet by traversing between routers. Each of these traversals is called a &lsquo;hop&rsquo;. The <code>TTL</code> value for a packet determines how many hops a packets is permitted to make. Each router the packet passes through reduces this value by one. When the <code>TTL</code> reaches zero, the packet is dropped and its journey comes to an abrupt end. When a packet is dropped in this way, the router that jettisoned it will send a message back to the <code>Source Address</code>in the (now non-existent) packet. That message, enveloped in a fresh new IP packet, includes the IP address of that router.</p>
<p>It&rsquo;s this property that we will leverage to map out paths along the internet.</p>
<h3 id="traceroute">traceroute</h3>
<p>We want to trace the route between the source IP address, <code>IP A</code>, and destination IP address, <code>IP B</code>.</p>
<p>We begin by constructing an IP packet with <code>TTL=1</code>. This is forwarded to the first router, R1. When it reaches R1 the TTL will be decremented by one, leaving <code>TTL=0</code>. The packet will be dropped and the router will send back an error message. Because this error message <em>originated from</em> the router, it contains the IP address of the first router.</p>
<p>The next step is to construct an IP packet with <code>TTL=2</code>. This is forwarded to the first router, R1. When it reaches R1 the TTL will be decremented by one, leaving <code>TTL=1</code>. The packet will then be forwarded to the second router, R2. When it reaches R2 the TTL will be decremented by one again, so <code>TTL=0</code>. The packet is dropped, an error message is returned, and we now have the IP address of the second router.</p>
<p><img src="/pictures/traceroute.png" alt="Alt"></p>
<p>This process repeats until we&rsquo;ve made a packet with a <code>TTL</code> high enough that it reaches the destination before being dropped. There&rsquo;s a neat piece of software that can do all of this, called <code>traceroute</code>. It&rsquo;s this that we&rsquo;ll use to light up the logical path that packets take between point A and point B.</p>
<p>An example <code>traceroute</code> output looks like this,</p>
<pre><code>picard@voyager: traceroute 93.184.216.34
/* prior hops */
7  62.6.201.145 (62.6.201.145)  16.680 ms
/* later hops */
</code></pre>
<p>The first number, <code>7</code> is the index of the hop. In this case, it&rsquo;s the 7th router along the path. <code>(62.6.201.145)</code> is the address of that router. <code>16.860ms</code> is the total time taken between sending the packet from the source computer, <code>voyager</code>, and receiving the error message from the router.</p>
<h3 id="houston-we-need-a-visual">houston, we need a visual</h3>
<p><code>traceroute</code> is a great tool to discover the <em>logical</em> nature of the path taken, but it doesn&rsquo;t give us much insight into the <em>physical</em> path. We want to know where in the world the packet has gone. Luckily, IP addresses are (sort of) tied to geography. When public IP addresses are registered, they&rsquo;re registered to a particular place. With a little code, we can tie together the geographical location of an IP address and plot it on google maps. For example, <code>www.example.com</code> (which has an IP address of <code>93.184.216.34</code>) is located here,</p>
<p><img src="/pictures/example_com_map.png" alt="Alt"></p>
<p>If we take the IP address from each router obtained by <code>traceroute</code> and plot its geographical location on a map, we can visualise the physical path that the packets take between two locations on the internet.</p>
<div class="expandable-section">
  
    <h3>
  
    
    
    
    
    
    <button aria-expanded="false" data-expands="js-expandable-7d0a7c30b2de5a4ae9aedc341ced849d">
      <span class="expandable-label">Domain Name System</span>
      <svg aria-hidden="true" focusable="false" viewBox="0 0 70.866142 70.866141">
        <g transform="translate(0 -981.5)">
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="60" width="9.8985" y="987.36" x="30.051" class="up-strut" />
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="10" width="60" y="1012.4" x="5"/>
        </g>
      </svg>
    </button>
  
    </h3>
  
  <div id="js-expandable-7d0a7c30b2de5a4ae9aedc341ced849d" hidden>
    <p>Locations on the internet are described by their IP address, but that&rsquo;s not how we see them in everyday usage. Instead of typing in <code>93.184.216.34</code> into a browser, we type <code>www.example.com</code>. This is a <strong>domain name</strong>. The early inventors in the internet realised that it just wasn&rsquo;t feasible to have people remember IP addresses. Moreover, an IP address only describes a machine on the internet. [need to explain this a bit better]</p>
<p>To solve this problem, early pioneers of the internet invented <strong>DNS</strong> (<strong>D</strong>omain <strong>N</strong>ame <strong>S</strong>ystem). It&rsquo;s like a phone book. Your computer looks up the name of the website you want to visit in this phone book and gets back its IP address. That&rsquo;s the IP address used for all the packets sent to the website.  Your browser handles this process automatically when you make a connection to a website. You&rsquo;ll only ever notice this when it goes wrong.</p>

  </div>
</div>

<hr>
<h2 id="warp-speed">warp speed</h2>
<p>With mission control set up, we can set Time To Liftoff to <code>0</code> and blast off.</p>
<h3 id="mission-new-zealand">mission: new zealand</h3>
<p>I&rsquo;ve never been to New Zealand and I&rsquo;ve always wanted to go. Covid-19 has put a stop to travel, but not to our regular programming. Let&rsquo;s go!</p>
<p>The New Zealand government website seems a good destination. Their website, <code>www.govt.nz</code>, is found at <code>103.28.251.187</code>.</p>
<h3 id="plotting-the-route">plotting the route</h3>
<p>First step is to run the <code>traceroute</code> program. This will give us the logical path between us and New Zealand</p>
<pre><code>picard@voyager: traceroute www.govt.nz
/* the first few IP addresses are redacted,
I don't want you to know where I am! */
 5  31.55.187.180 (31.55.187.180)  15.513 ms  16.553 ms  17.264 ms
 6  core1-hu0-6-0-6.southbank.ukcore.bt.net (213.121.192.72)  17.960 ms 
 7  peer7-et-3-0-2.telehouse.ukcore.bt.net (109.159.252.180)  10.041 ms  
 8  166-49-128-32.gia.bt.net (166.49.128.32)  16.323 ms
 9  212.119.4.136 (212.119.4.136)  16.294 ms
10  ae-4.r24.londen12.uk.bb.gin.ntt.net (129.250.4.125)  16.257 ms 
11  ae-7.r21.sngpsi07.sg.bb.gin.ntt.net (129.250.7.65)  202.559 ms
12  ae-7.r20.sngpsi07.sg.bb.gin.ntt.net (129.250.3.74)  200.066 ms 
13  ae-9.r24.tkokhk01.hk.bb.gin.ntt.net (129.250.7.67)  232.833 ms
14  ae-1.r02.tkokhk01.hk.bb.gin.ntt.net (129.250.6.92)  231.986 ms
15  192.80.16.50 (192.80.16.50)  275.643 ms
16  103.28.251.187.ip.incapdns.net (103.28.251.187)  236.324 ms

</code></pre>
<p>The final part of each line is the time taken between my computer sending the <code>traceroute</code> packet and the corresponding error message to return. This is called the <strong>latency</strong>. Between,</p>
<p><code>10  ae-4.r24.londen12.uk.bb.gin.ntt.net (129.250.4.125)  16.257 ms</code></p>
<p>and,</p>
<p><code>11  ae-7.r21.sngpsi07.sg.bb.gin.ntt.net (129.250.7.65)  202.559 ms</code></p>
<p>there is a big jump in latency. Hop <code>11</code> is when the packet left the UK and travelled across the globe.</p>
<h3 id="pinning-the-ip">pinning the IP</h3>
<p>By running each IP from our <code>traceroute</code> output against a geo-location service, we get the longitude and latitude for each IP. To make it easier to pin to the map later, I&rsquo;ve re-indexed the IPs by letter.</p>
<pre><code>A | 31.55.187.188   | (51.5074, -0.127758)
B | 213.121.192.112 | (51.6143, -0.7944)
C | 62.172.103.166  | (54.4, -7.5833)
D | 166.49.128.32   | (51.5074, -0.127758)
E | 212.119.4.136   | (51.5061, -0.071338)
F | 129.250.4.125   | (51.5074, -0.127758)
G | 129.250.7.65    | (1.35208, 103.82)
H | 129.250.3.74    | (1.35208, 103.82)
I | 129.250.7.67    | (22.3119, 114.257)
J | 129.250.6.92    | (22.3119, 114.257)
K | 192.80.16.50    | (38.5816, -121.494)
L | 103.28.250.187  | (-33.8591, 151.2002)

</code></pre>
<p>Then we overlay this data on Google Maps to get the physical path.</p>
<p><img src="/pictures/ldn_nzl_big.png" alt="Alt" title="Bit of a trek"></p>
<p>Some of the letters are a bit jumbled up on google maps. Hop <code>D</code> and hop <code>F</code> have the same co-ordinates. This is because some of the hops on the journey are in different logical parts of the network, but the same physical part of the network.</p>
<h3 id="bouncing-around-britain">bouncing around britain</h3>
<p><img src="/pictures/ldn_bzl_brt.png" alt="Alt" title="First stop, High Wycombe?"></p>
<p>My internet service provider is BT, who divide their infrastructure up into &lsquo;code&rsquo; nodes and &lsquo;metro&rsquo; nodes. The core nodes are where the serious equipment is. If you imagine the internet like the road network, the core nodes act as junctions and the links between the core nodes are akin to motorways. The locations of the core nodes are public knowledge. Here&rsquo;s a map,</p>
<p><img src="https://kitz.co.uk/adsl/images/21CN_core_map_location.png" alt="Alt" title="All routes lead to London"></p>
<p>Our traffic goes through the core node at the South Bank, London (<code>core1-hu0-6-0-6.southbank.ukcore.bt.net</code>). From a core node, traffic can be routed anywhere within BT&rsquo;s network. If we wanted to visit south Wales, the next stop would be the core node in Cardiff.</p>
<p>But we want to go international. To do so, we need to pass our packets over to another internet service provider. There&rsquo;s no one company or organisation that manages all of the internet. They each manage a small part of it. When data needs to move between them, its handed it over at dedicated peering points. These peering nodes manage the transfer of the packet from BT&rsquo;s network to someone else&rsquo;s.</p>
<div class="expandable-section">
  
    <h3>
  
    
    
    
    
    
    <button aria-expanded="false" data-expands="js-expandable-b5d74e45e1984ccf519e553aded1189f">
      <span class="expandable-label">peering contests</span>
      <svg aria-hidden="true" focusable="false" viewBox="0 0 70.866142 70.866141">
        <g transform="translate(0 -981.5)">
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="60" width="9.8985" y="987.36" x="30.051" class="up-strut" />
          <rect style="stroke-width:0;fill:currentColor" ry="5" height="10" width="60" y="1012.4" x="5"/>
        </g>
      </svg>
    </button>
  
    </h3>
  
  <div id="js-expandable-b5d74e45e1984ccf519e553aded1189f" hidden>
    <p>Peering can be a tense subject. Both sides of the arrangement have to agree to the peering connection. When each side is sending and receiving a roughly equal amount of data (and making an equal amount of money for it!), the relationship remains stable. However, sometimes one network owner will decide that the other isn&rsquo;t a fair partner. They might demand a higher fee for carrying traffic, or a share of the profits.</p>
<p>Some of these disputes have been legendary, like in 2010 when two internet service providers <a href="https://gigaom.com/2010/12/01/comcast-level-3-battle/">went to war</a> with each other. These sort of disputes usually don&rsquo;t lead to any major disruption in service, although there can be cases where different zones in the internet can no longer reach other.</p>

  </div>
</div>

<h3 id="transatlanticism">transatlanticism</h3>
<p>Once our tiny packets reach a peering node,  they traverse seas and oceans on their journey to New Zealand. That they are able to do this is no small feat of engineering. There are enormous cables laid across the ocean floor that connect the networks of individual countries and continents together. These cables are <a href="https://www.submarinecablemap.com/">mapped here</a>. With a bit of guesswork, we might be able to figure out exactly <em>which</em> of these submerged data pipes our packets travelled down.</p>
<p><img src="/pictures/cross_continent.png" alt="Alt" title="around the world in 80ms"></p>
<p>This cable is the FLAG Europe-Asia. We don&rsquo;t know for certain that this is the cable it took, but I&rsquo;d like to think it boarded here.</p>
<p><img src="/pictures/date_line.png" alt="Alt" title="do timezones affect data?"></p>
<p>And then finally, to New Zealand. One last journey for our humble packet.</p>
<p><img src="/pictures/final_leg.png" alt="Alt" title="there and back again"></p>
<h3 id="coming-full-circle">coming full circle</h3>
<p><code>traceroute</code> can only tell us the path packets take on the way to the destination. It can&rsquo;t determine which route the packets take to return to us. Routing on the internet is complicated and dynamic; different days will yield different routes. Perhaps <code>www.govt.nz</code>  sent the reply back the same way, or it may have decided on a different route. There are routers along on the west coast of the US. From there, packets would have travelled across the states to the east coast. Then they&rsquo;d have boarded a transatlantic cable to the UK. After bouncing around London for a little while, the packets would have eventually reached my laptop.</p>
<h2 id="one-small-hop-for-data-one-giant-leap-for-information">one small hop for data, one giant leap for information</h2>
<p>The total time it took for the packet to go to New Zealand and back was 236 milliseconds. For context, the average human reaction time is 215 milliseconds. It takes approximately the same time for information to cross the globe as it does for you to react to it. This is <em>fast</em>. But it can get faster. Engineers and computer scientists of the modern internet work tirelessly to bring more information to more people quicker than ever.</p>
<p>I read once that one aim of human progress is to compress the space and time between people. I think the internet is part of that. The wires and cables that connect it are the threads that tie the modern world together.  Zooming out to look at the whole, it&rsquo;s extraordinary just how well the world is connected. <a href="https://en.wikipedia.org/wiki/Satellite_internet_constellation">And we&rsquo;re not done yet.</a></p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Starlink_Mission_%2847926144123%29.jpg" alt="Alt" title="The starlink satellite array"></p>

  </main>
  <div id="disqus-container">
  
</div>


          <footer role="contentinfo">
  <div>
    <label for="themer">
      dark theme: <input type="checkbox" id="themer" class="vh">
      <span aria-hidden="true"></span>
    </label>
  </div>
  
    Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/zwbetz-gh/cupper-hugo-theme">Cupper</a>. Hosted on <a href="https://netlify.com">Netlify</a>
  
</footer>

        </div>
      </div>
    </div>
    <script src="https://adpblg.co.uk/js/prism.js"></script>



<script src="https://adpblg.co.uk/js/dom-scripts.js"></script>



<script src="/js/search.7aef046a0cc8b0c532f1d20087b920459bc868c936bb48a6ae221eceefca2d07.js"></script>

<link rel="stylesheet" href="/css/search.fe0cd54a21628574bff49d721c827d1bb165ab56b0f22dd55ae78addbe61c309.css"></link>


    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js" integrity="sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

    
  

  </body>
</html>
